<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ü¶Ü Duck Racing Game</title>

<style>
body{
  font-family:"Baloo 2",system-ui;
  background:linear-gradient(120deg,#0f2027,#203a43,#2c5364);
  color:#fff;margin:0;padding:0;
}

.container{
  max-width:1100px;
  margin:auto;
  padding:14px;
}

/* ===== Cards ===== */
.card{
  background:#111a22;
  border-radius:18px;
  padding:16px;
  margin-bottom:14px;
  box-shadow:0 12px 30px rgba(0,0,0,.35);
}

h1{margin:6px 0 10px;text-align:center}

/* ===== Inputs ===== */
textarea{
  width:100%;
  min-height:110px;
  border-radius:12px;
  border:none;
  padding:12px;
  font-size:15px;
}

button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:12px;
  font-size:16px;
  background:#ffb703;
  color:#000;
  font-weight:700;
}

/* ===== Track & Ducks ===== */
.track{
  margin-top:8px;
  border-radius:16px;
  background:#0c131a;
  padding:10px;
  overflow:hidden;
  position:relative;
  min-height:70px;
}

.finish-line{
  position:absolute;
  right:18px;
  top:10px;
  bottom:10px;
  width:0;
  border-left:3px dashed #ffb703;
  opacity:.9;
}

.duck{
  display:flex;
  align-items:center;
  gap:8px;
  font-size:18px;
  font-weight:700;
  padding:8px 10px;
  border-radius:12px;
  margin-bottom:6px;
  position:relative;
  transform:translateX(0);
  transition:transform .25s ease-out;
}
.duck span.time{font-size:12px;opacity:.8}

/* ===== Leaderboard ===== */
.board{margin-top:6px;padding-left:0}
.board li{
  padding:6px 10px;
  border-radius:10px;
  margin-bottom:6px;
  list-style:none;
  background:#15212b;
}
.board li.gold{background:#ffd70022;border:1px solid #ffd700}
.board li.silver{background:#c0c0c022;border:1px solid #c0c0c0}
.board li.bronze{background:#cd7f3222;border:1px solid #cd7f32}

/* ===== Responsive ===== */
@media(max-width:600px){
  .duck{font-size:16px}
}

/* Desktop: b·ªë c·ª•c 2 c·ªôt */
@media(min-width:900px){
  .layout{
    display:grid;
    grid-template-columns:1fr 320px;
    gap:14px;
    align-items:flex-start;
  }
  #leaderboardCard{
    position:sticky;
    top:14px;
  }
}
</style>
</head>

<body>
<div class="container">

  <h1>ü¶Ü DUCK RACING</h1>

  <div class="layout">

    <!-- LEFT: GAME -->
    <div>
      <div class="card">
        <p>Nh·∫≠p t√™n v·ªãt (m·ªói d√≤ng 1 t√™n):</p>
        <textarea id="duckNames"></textarea>
        <button onclick="startRace()">B·∫Øt ƒë·∫ßu ƒëua</button>
      </div>

      <div class="card track" id="track">
        <div class="finish-line"></div>
      </div>
    </div>

    <!-- RIGHT: LEADERBOARD -->
    <div class="card" id="leaderboardCard">
      <h3>üèÜ B·∫£ng x·∫øp h·∫°ng</h3>
      <ul id="ranking" class="board"></ul>
    </div>

  </div>
</div>

<script>
const colors=["#ffbe0b","#fb5607","#ff006e","#8338ec",
              "#3a86ff","#06d6a0","#ff9f1c","#ffd166"];

let startTime, finished=[];

function startRace(){
  const track=document.getElementById("track");
  const ranking=document.getElementById("ranking");
  track.querySelectorAll(".duck").forEach(e=>e.remove());
  ranking.innerHTML="";
  finished=[];

  const names=document.getElementById("duckNames").value
    .split("\n").map(x=>x.trim()).filter(x=>x!=="");

  if(!names.length){
    alert("Nh·∫≠p t√™n v·ªãt tr∆∞·ªõc!");
    return;
  }

  startTime=performance.now();

  names.forEach((name,i)=>{
    const duck=document.createElement("div");
    duck.className="duck";
    duck.style.background=colors[i%colors.length]+"33";
    duck.dataset.name=name;
    duck.dataset.color=colors[i%colors.length];

    const icon=document.createElement("span");
    icon.textContent="ü¶Ü";
    icon.style.color=colors[i%colors.length];

    const label=document.createElement("span");
    label.textContent=name;

    const time=document.createElement("span");
    time.className="time";
    time.textContent="‚è±...";

    duck.append(icon,label,time);
    track.appendChild(duck);

    animateDuck(duck,time);
  });
}

function animateDuck(duck,timeE
